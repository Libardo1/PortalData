year=1981:2002; season=c("Winter","Summer"); plot=1:24; quadrat=c(11,13,15,17,31,33,35,37,51,53,55,57,71, 73,75,77)
lookup=expand.grid(year, season, plot, quadrat)
View(lookup)
View(lookup)
write.csv(lookup,"lookup.csv", row.names = F)
oldweather <- read.csv("C:/Users/gmyenni/Dropbox/Portal/PORTAL_primary_data/Metadata_for_Ecological_Archives/EcolArch2015/Portal_weather_19801989.csv")
View(oldweather)
newweather <- read.csv("C:/Users/gmyenni/Dropbox/Portal/PORTAL_primary_data/Metadata_for_Ecological_Archives/EcolArch2015/Portal_weather_19892013.csv")
View(newweather)
?aggregate
data(dune)
data(dune.env)
adonis(dune ~ Management*A1, data=dune.env, permutations=99)
library(vegan)
install.packages("vegan")
library(vegan)
install.packages("vegan")
install.packages("vegan", repos="http://R-Forge.R-project.org")
library(vegan)
data(dune)
data(dune.env)
adonis(dune ~ Management*A1, data=dune.env, permutations=99)
dat <- expand.grid(rep=gl(2,1), NO3=factor(c(0,10)),field=gl(3,1) )
dat
Agropyron <- with(dat, as.numeric(field) + as.numeric(NO3)+2) +rnorm(12)/2
Schizachyrium <- with(dat, as.numeric(field) - as.numeric(NO3)+2) +rnorm(12)/2
total <- Agropyron + Schizachyrium
library(lattice)
dotplot(total ~ NO3, dat, jitter.x=TRUE, groups=field,
type=c('p','a'), xlab="NO3", auto.key=list(columns=3, lines=TRUE) )
Y <- data.frame(Agropyron, Schizachyrium)
mod <- metaMDS(Y)
plot(mod)
install.packages("dplyr")
install.packages("lubridate")
aggregate(newweather,by=list(Month,Day),Min)
aggregate(newweather,by=list(Month,Day),min)
aggregate(newweather,by=list(newweather$Month,newweather$Day),min)
daily=aggregate(newweather,by=list(newweather$Month,newweather$Day),min)
View(daily)
daily=aggregate(newweather,by=list(Year=newweather$Year,Month=newweather$Month,Day=newweather$Day),min)
View(daily)
daily=aggregate(newweather,by=list(Year=newweather$Year,Month=newweather$Month,Day=newweather$Day),min)
View(daily)
View(newweather)
daily=aggregate(newweather[,5:6],by=list(Year=newweather$Year,Month=newweather$Month,Day=newweather$Day),min)
View(daily)
daily=aggregate(newweather[,5:6],by=list(Year=newweather$Year,Month=newweather$Month,Day=newweather$Day),c(min,max))
dailymin=aggregate(newweather[,5],by=list(Year=newweather$Year,Month=newweather$Month,Day=newweather$Day),min)
View(dailymin)
dailymax=aggregate(newweather[,5],by=list(Year=newweather$Year,Month=newweather$Month,Day=newweather$Day),max)
View(dailymax)
dailyppt=aggregate(newweather[,6],by=list(Year=newweather$Year,Month=newweather$Month,Day=newweather$Day),sum)
View(dailyppt)
dailymax=aggregate(newweather[,5],by=list(Year=newweather$Year,Month=newweather$Month,Day=newweather$Day),max,simplify = TRUE)
View(dailymax)
dailymax=aggregate(newweather[,5],by=list(Year=newweather$Year,Month=newweather$Month,Day=newweather$Day),max)
View(dailymin)
daily=cbind(dailymin[,1:3],minT=dailymin[,4],maxT=dailymax[,4],ppt=dailyppt[,4])
View(daily)
?sort
daily=order(cbind(dailymin[,1:3],minT=dailymin[,4],maxT=dailymax[,4],ppt=dailyppt[,4]))
daily=cbind(dailymin[,1:3],minT=dailymin[,4],maxT=dailymax[,4],ppt=dailyppt[,4])
View(daily)
View(oldweather)
plot(daily$minT,oldweather$TempAirmin)
?combine
?merge
merge(daily,oldweather,by=c("Day","Month","Year"))
compare=merge(daily,oldweather,by=c("Day","Month","Year"))
View(compare)
compare=merge(daily,oldweather,by=c("Year","Month","Day"))
plot(daily$minT,oldweather$TempAirmin)
compare=merge(daily,oldweather,by=c("Year","Month","Day"))
View(compare)
plot(compare$minT,compare$TempAirmin)
?abline
plot(compare$minT,compare$TempAirmin,xlab="Auto Min T",ylab="Manual Min T");abline(a=1)
plot(compare$minT,compare$TempAirmin,xlab="Auto Min T",ylab="Manual Min T");abline(a=1,b=0)
plot(compare$minT,compare$TempAirmin,xlab="Auto Min T",ylab="Manual Min T");abline(0,1)
plot(compare$maxT,compare$TempAirmx,xlab="Auto Max T",ylab="Manual Max T");abline(0,1)
monthly=aggregate(compare[,4:9],by=list(Day=compare$Day,Month=compare$Month),ave)
View(monthly)
monthlyppt=aggregate(compare[,c(6,9)],by=list(Month=compare$Month),sum)
View(monthlyppt)
monthly=aggregate(compare[,4:9],by=list(Month=compare$Month),ave)
View(monthly)
monthly=aggregate(compare[,4:9],by=list(Month=compare$Month),ave)
View(monthly)
monthlyppt=aggregate(compare[,c(6,9)],by=list(Month=compare$Month),sum)
View(monthlyppt)
monthlyppt=aggregate(compare[,c(6,9)],by=list(Month=compare$Month),sum,na.rm=T)
View(monthlyppt)
monthly=aggregate(compare[,4:9],by=list(Month=compare$Month),ave,na.rm=T)
View(monthly)
dailymin=aggregate(newweather[,5],by=list(Day=newweather$Day,Month=newweather$Month,Year=newweather$Year),min)
dailymax=aggregate(newweather[,5],by=list(Day=newweather$Day,Month=newweather$Month,Year=newweather$Year),max)
dailyppt=aggregate(newweather[,6],by=list(Day=newweather$Day,Month=newweather$Month,Year=newweather$Year),sum)
daily=cbind(dailymin[,1:3],minT=dailymin[,4],maxT=dailymax[,4],ppt=dailyppt[,4])
compare=merge(daily,oldweather,by=c("Year","Month","Day"))
plot(compare$minT,compare$TempAirmin,xlab="Auto Min T",ylab="Manual Min T");abline(0,1)
plot(compare$maxT,compare$TempAirmx,xlab="Auto Max T",ylab="Manual Max T");abline(0,1)
monthly=aggregate(compare[,4:9],by=list(Month=compare$Month),ave,na.rm=T)
View(monthly)
?ave
monthly=aggregate(compare[,4:9],by=list(Month=compare$Month),mean,na.rm=T)
View(monthly)
View(monthly)
boxplot(compare)
plot(compare)
boxplot(compare)
View(compare)
?boxplot
boxplot(compare[,4:9])
boxplot(compare[,4:9],at=c(1,3,5,4,2,6))
boxplot(compare[,4:9],at=c(1,3,5,4,2,6),names=c("Station Min T","Graph Min T","Station Max T","Graph Max T","Station ppt","Manual ppt"))
boxplot(compare[,4:9],at=c(1,3,5,4,2,6),names=c("Station Min T","Station Max T","Station ppt","Graph Max T","Graph Min T","Manual ppt"))
boxplot(compare[,c(4,5,7,8)],at=c(1,3,4,2),names=c("Station Min T","Station Max T","Graph Max T","Graph Min T"))
boxplot(compare[,c(4,5,7,8)],at=c(1,3,4,2),names=c("Station Min T","Station Max T","Graph Max T","Graph Min T"),ylab="C")
compare$Date <- as.Date( paste( compare$Month , compare$Day , sep = "." )  , format = "%m.%d" )
View(compare)
compare$Date <- as.Date( paste( compare$Month , compare$Day , compare$Year, sep = "." )  , format = "%m.%d" )
View(compare)
?as.date
?as.Date
compare$Year,
compare$Date = as.Date( paste(compare$Year,  compare$Month , compare$Day , sep = "." )  , format = "%m.%d" )
View(compare)
compare$Date = as.Date( paste(compare$Month , compare$Day , compare$Year, sep = "." )  , format = "%m/%d/%y" )
View(compare)
View(compare)
compare$Date = as.Date( paste(compare$Month , compare$Day , compare$Year, sep = "." )  , format = "%m.%d.%y" )
View(compare)
compare$Date = as.Date( paste(compare$Month , compare$Day , compare$Year, sep = "." )  , format = "%m.%d.%Y" )
View(compare)
plot(compare$Date,compare$minT,"blue")
View(compare)
library(ggplot2)
install.packages("ggplot2")
library(ggplot2)
install.packages("ggplot2")
library(ggplot2)
install.packages("ggplot2")
library(ggplot2)
library(ggplot2)
library("ggplot2")
library("ggplot2")
install.packages("digest")
library("ggplot2")
library("ggplot2")
library("ggplot2")
library("ggplot2")
install.packages("colorspace")
library("ggplot2")
ggplot( data = compare) + geom_line(aes( Date, minT ))
ggplot(data = compare) + geom_line(aes(Date, minT, colour= "blue")) + geom_line(aes(Date, TempAirmin, colour="blue")) +
geom_line(aes(Date, maxT, colour = "red")) + geom_line(aes(Date, TempAirmx, colour = "red"))
ggplot(data = compare) + geom_line(aes(Date, minT, colour= "blue")) + geom_line(aes(Date, TempAirmin, colour="blue", linetype=2)) +
geom_line(aes(Date, maxT, colour = "red")) + geom_line(aes(Date, TempAirmx, colour = "red"))
ggplot(data = compare) + geom_line(Date, minT, colour= "blue") + geom_line(Date, TempAirmin, colour="blue", linetype=2) +
geom_line(Date, maxT, colour = "red") + geom_line(Date, TempAirmx, colour = "red")
ggplot(data = compare) + geom_line(aes(Date, minT), colour= "blue") + geom_line(aes(Date, TempAirmin), colour="blue", linetype=2) +
geom_line(aes(Date, maxT), colour = "red") + geom_line(aes(Date, TempAirmx), colour = "red")
ggplot(data = compare) + geom_line(aes(Date, minT), colour= "blue") + geom_line(aes(Date, TempAirmin), colour="blue", linetype=2) +
geom_line(aes(Date, maxT), colour = "red") + geom_line(aes(Date, TempAirmx), colour = "red", linetype=2)
ggplot(data = compare) + geom_boxplot(aes(minT), colour= "blue") + geom_line(aes(TempAirmin), colour="blue", linetype=2) +
geom_line(aes(maxT), colour = "red") + geom_line(aes(TempAirmx), colour = "red", linetype=2)
ggplot(data = compare) + geom_boxplot(minT, colour= "blue")
ggplot(data = compare) + geom_boxplot(compare$minT, colour= "blue")
ggplot(data = compare) + geom_boxplot(aes(minT), colour= "blue")
ggplot(data = compare) + stat_boxplot(aes(minT), colour= "blue") + stat_boxplot(aes(TempAirmin), colour="blue", linetype=2) +
stat_boxplot(aes(maxT), colour = "red") + stat_boxplot(aes(TempAirmx), colour = "red", linetype=2)
plot(compare$minT,compare$TempAirmin,xlab="Station Min T",ylab="Graph Min T");abline(0,1)
plot(compare$minT,compare$TempAirmin,xlab="Station Min T",ylab="Graph Min T",xlim=c(14,26),ylim=c(14,26));abline(0,1)
plot(compare$maxT,compare$TempAirmx,xlab="Station Max T",ylab="Graph Max T");abline(0,1)
plot(compare$maxT,compare$TempAirmx,xlab="Station Max T",ylab="Graph Max T",xlim=c(29,42),ylim=c(29,42));abline(0,1)
plot(compare$minT,compare$TempAirmin,xlab="Station Min T",ylab="Graph Min T",xlim=c(14,26),ylim=c(14,26),col="blue");abline(0,1)
plot(compare$minT,compare$TempAirmin,xlab="Station Min T",ylab="Graph Min T",xlim=c(14,26),ylim=c(14,26),col="blue",cex=1.5);abline(0,1)
plot(compare$maxT,compare$TempAirmx,xlab="Station Max T",ylab="Graph Max T",xlim=c(29,42),ylim=c(29,42),col="red",cex=1.5);abline(0,1)
boxplot(compare[,c(4,5,7,8)],at=c(1,3,4,2),names=c("Station Min T","Station Max T","Graph Max T","Graph Min T"),ylab="C")
boxplot(compare[,c(4,5,7,8)],at=c(1,3,4,2),names=c("Station Min T","Station Max T","Graph Max T","Graph Min T"),ylab="C"col=c("blue","blue","red","red"))
boxplot(compare[,c(4,5,7,8)],at=c(1,3,4,2),names=c("Station Min T","Station Max T","Graph Max T","Graph Min T"),ylab="C",col=c("blue","blue","red","red"))
boxplot(compare[,c(4,5,7,8)],at=c(1,3,4,2),names=c("Station Min T","Station Max T","Graph Max T","Graph Min T"),ylab="C",col=c("blue","red","blue","red"))
boxplot(compare[,c(4,5,7,8)],at=c(1,3,4,2),names=c("Station Min T","Station Max T","Graph Max T","Graph Min T"),ylab="C",col=c("blue","red","red","blue"))
monthly=aggregate(compare[,4:9],by=list(Month=compare$Month),mean,na.rm=T)
ggplot(data = compare) + geom_line(aes(Date, minT), colour= "blue") + geom_line(aes(Date, TempAirmin), colour="blue", linetype=2) +
geom_line(aes(Date, maxT), colour = "red") + geom_line(aes(Date, TempAirmx), colour = "red", linetype=2)
ggplot(data = compare) + geom_line(aes(Date, minT), colour= "blue") + geom_line(aes(Date, TempAirmin), colour="blue", linetype=2) +
geom_line(aes(Date, maxT), colour = "red") + geom_line(aes(Date, TempAirmx), colour = "red", linetype=2) + x_lab("C")
ggplot(data = compare) + geom_line(aes(Date, minT), colour= "blue") + geom_line(aes(Date, TempAirmin), colour="blue", linetype=2) +
geom_line(aes(Date, maxT), colour = "red") + geom_line(aes(Date, TempAirmx), colour = "red", linetype=2) + ylab("C")
plot(compare$minT,compare$TempAirmin,xlab="Station Min T",ylab="Graph Min T",xlim=c(14,26),ylim=c(14,26),col="blue",cex=1.5);abline(0,1)
layout(matrix(1,2))
plot(compare$minT,compare$TempAirmin,xlab="Station Min T",ylab="Graph Min T",xlim=c(14,26),ylim=c(14,26),col="blue",cex=1.5);abline(0,1)
plot(compare$maxT,compare$TempAirmx,xlab="Station Max T",ylab="Graph Max T",xlim=c(29,42),ylim=c(29,42),col="red",cex=1.5);abline(0,1)
?layout
layout(matrix(1,1),1,2)
plot(compare$minT,compare$TempAirmin,xlab="Station Min T",ylab="Graph Min T",xlim=c(14,26),ylim=c(14,26),col="blue",cex=1.5);abline(0,1)
plot(compare$maxT,compare$TempAirmx,xlab="Station Max T",ylab="Graph Max T",xlim=c(29,42),ylim=c(29,42),col="red",cex=1.5);abline(0,1)
layout(matrix(c(1,1)),1,2)
plot(compare$minT,compare$TempAirmin,xlab="Station Min T",ylab="Graph Min T",xlim=c(14,26),ylim=c(14,26),col="blue",cex=1.5);abline(0,1)
plot(compare$maxT,compare$TempAirmx,xlab="Station Max T",ylab="Graph Max T",xlim=c(29,42),ylim=c(29,42),col="red",cex=1.5);abline(0,1)
layout(matrix(c(1,1),1,2))
plot(compare$minT,compare$TempAirmin,xlab="Station Min T",ylab="Graph Min T",xlim=c(14,26),ylim=c(14,26),col="blue",cex=1.5);abline(0,1)
plot(compare$maxT,compare$TempAirmx,xlab="Station Max T",ylab="Graph Max T",xlim=c(29,42),ylim=c(29,42),col="red",cex=1.5);abline(0,1)
matrix(c(1,1),1,2)
layout(matrix(c(1,1,0,2), 2, 2, byrow = TRUE))
plot(compare$minT,compare$TempAirmin,xlab="Station Min T",ylab="Graph Min T",xlim=c(14,26),ylim=c(14,26),col="blue",cex=1.5);abline(0,1)
plot(compare$maxT,compare$TempAirmx,xlab="Station Max T",ylab="Graph Max T",xlim=c(29,42),ylim=c(29,42),col="red",cex=1.5);abline(0,1)
layout(matrix(c(1,2),1,2))
plot(compare$minT,compare$TempAirmin,xlab="Station Min T",ylab="Graph Min T",xlim=c(14,26),ylim=c(14,26),col="blue",cex=1.5);abline(0,1)
plot(compare$maxT,compare$TempAirmx,xlab="Station Max T",ylab="Graph Max T",xlim=c(29,42),ylim=c(29,42),col="red",cex=1.5);abline(0,1)
View(monthly)
View(monthlyppt)
View(monthly)
source('C:/Users/gmyenni/Dropbox/projects/AssymetricNFD/RareStabilizationData/samplingfunction.R')
source('./immigration.R')
source("./samplingfunction.r")
source("./stabil_function.r") #source stabil function with plotting turned on
#Set relative abundances for 10 species, constant for all scenarios
relabunds=c(0.25,0.75)
#Scenario 1 - no NFD structure (10 species)
scen1b=rep(-1,2)
scen1a=-scen1b*relabunds
scen1C=immigration("scenario1",scen1a,scen1b)
scen1obsA=sampling(C=scen1C, size=rep(1,2))
scen1resultsA=stabil(scen1obsA,sp_names=1:2,dataname="Scenario 1A (k=1)")
setwd("~/PortalData/Plants")
plants <- read.csv("~/PortalData/Plants/Portal_plant_1981_2015.csv")
View(plants)
summer=plants[season=="summer"]
summer=plants[plants$season=="summer"]
summer=plants[plants$season=="summer",]
View(summer)
winiter=plants[plants$season=="winter",]
summer=[plants$plot==c(11,14)]
summer=plants[plants$plot==c(11,14)]
summer=plants[plants$plot %in% c(11,14),]
summer=plants[plants$season=="summer",]
summer=summer[summer$plot %in% c(11,14),]
winter=winter[winter$plot %in% c(11,14),]
winter=plants[plants$season=="winter",]
winter=winter[winter$plot %in% c(11,14),]
summer=summer[summer$year<2004,]
winter=winter[winter$year<2004,]
summersum=aggregate(summer,by=plot,fun=sum)
summersum=aggregate(summer,by=plot,FUN=sum)
summersum=aggregate(summer,by=summer$plot,FUN=sum)
summersum=aggregate(summer,by=ls(summer$plot),FUN=sum)
library("plyr")
ddply(dat,.(Group),summarize,
Max = max(Score),
Info = Info[which.max(Score)])
summersum=ddply(summer,.(year,season,plot,species),summarize,
abund = sum(abundance))
View(summersum)
View(summer)
wintersum=ddply(winter,.(year,season,plot,species),summarize,
abund = sum(abundance))
View(wintersum)
write.csv(wintersum,"PortalWinterAnnuals.csv",row.names = F,col.names = T)
write.csv(summersum,"PortalSummerAnnuals.csv",row.names = F,col.names = T)
